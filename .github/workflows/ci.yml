name: Verify deployment

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  verify:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Verify dist directory
        run: |
          echo "=== Build artifacts verification ==="
          echo ""
          if [ ! -d "dist" ]; then
            echo "❌ ERROR: dist/ directory not found"
            exit 1
          fi

          if [ ! -f "dist/index.html" ]; then
            echo "❌ ERROR: dist/index.html not found"
            exit 1
          fi

          echo "✓ dist/ directory exists"
          echo "✓ dist/index.html exists"
          echo ""
          echo "=== Deployment structure ==="
          ls -lh dist/ | head -15
          echo ""
          echo "Total size:"
          du -sh dist/
          echo ""
          echo "✓ Ready for GitHub Pages deployment from /dist"