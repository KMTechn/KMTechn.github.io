import{a as S,b as M,j as e,S as b,c as g,N as R,C as v,V as L,H as P,d as E,M as I,e as h}from"./three-vendor-uCD6w5gt.js";import{b as l}from"./react-vendor-VEkyeZpm.js";import{L as D}from"./HomePage-CHV_39b4.js";import"./index-p51PCxHP.js";import"./i18n-vendor-Dc1ZlYGt.js";const u=3.08,y=(o,i,t)=>{const s=(90-o)*(Math.PI/180),n=(i+180)*(Math.PI/180),a=-(t*Math.sin(s)*Math.cos(n)),r=t*Math.sin(s)*Math.sin(n),c=t*Math.cos(s);return new L(a,c,r)},j=[{name:"Seoul",lat:37.5665,lon:126.978},{name:"Berlin",lat:52.52,lon:13.405},{name:"Wuhu",lat:31.33,lon:118.38},{name:"Hong Kong",lat:22.3193,lon:114.1694}];function O({position:o,name:i}){const[t,s]=l.useState(!1),n=l.useRef();return M((a,r)=>{n.current&&(t?n.current.scale.lerp({x:1.2,y:1.2,z:1.2},r*3):n.current.scale.x>1.01&&n.current.scale.lerp({x:1,y:1,z:1},r*5))}),e.jsxs("mesh",{position:o,ref:n,onPointerOver:()=>s(!0),onPointerOut:()=>s(!1),children:[e.jsx("sphereGeometry",{args:[.055,16,16]}),e.jsx("meshBasicMaterial",{color:"gold",toneMapped:!1}),e.jsx(P,{as:"div",distanceFactor:10,style:{transition:"opacity 0.2s",opacity:t?1:0,pointerEvents:"none",padding:"5px 10px",background:"rgba(0, 0, 0, 0.7)",color:"white",borderRadius:"5px",fontSize:"14px",whiteSpace:"nowrap",transform:"translate(-50%, -150%)"},children:i})]})}function T({points:o}){const i=l.useMemo(()=>o.map(t=>({...t,position:y(t.lat,t.lon,u+.02)})),[o]);return e.jsx("group",{children:i.map(t=>e.jsx(O,{position:t.position,name:t.name},t.name))})}function w({points:o}){const i=l.useMemo(()=>{const t=[],s=u+.05,n=o.map(a=>y(a.lat,a.lon,s));for(let a=0;a<n.length;a++){const r=n[a],c=n[(a+1)%n.length],m=1.05+r.distanceTo(c)/(u*2)*.25,p=r.clone().lerp(c,.5).normalize().multiplyScalar(u*m);t.push([r,p,c])}return t},[o]);return e.jsx("group",{children:i.map((t,s)=>e.jsx(v,{points:t,color:"cyan",lineWidth:2,transparent:!0,opacity:.7},s))})}const z=o=>{const{ambientIntensity:i=1,directionalIntensity:t=12,metalness:s=.2,roughness:n=.5,emissiveIntensity:a=2.5,cloudsOpacity:r=.25}=o,[c,f,m]=S(["/earth-day.jpg","/earth-night.jpg","/earth-clouds.jpg"]),p=l.useRef(),d=l.useRef();return M(({clock:B},x)=>{p.current&&(p.current.rotation.y+=x*.05),d.current&&(d.current.rotation.y+=x*.06)}),e.jsxs(e.Fragment,{children:[e.jsx("ambientLight",{intensity:i}),e.jsx("directionalLight",{position:[10,10,5],intensity:t}),e.jsx(b,{radius:300,depth:50,count:2e3,factor:4,saturation:0,fade:!0,speed:.5}),e.jsxs("group",{ref:p,children:[e.jsx(g,{args:[u,48,48],children:e.jsx("meshStandardMaterial",{map:c,metalness:s,roughness:n,emissiveMap:f,emissive:"#ffffff",emissiveIntensity:a})}),e.jsx(g,{ref:d,args:[u+.05,24,24],castShadow:!1,receiveShadow:!1,children:e.jsx("meshStandardMaterial",{map:m,transparent:!0,opacity:r,blending:R})}),e.jsx(T,{points:j}),e.jsx(w,{points:j})]})]})},C=()=>e.jsxs(E,{camera:{position:[0,0,8],fov:50},dpr:[1,1.5],performance:{min:.5},children:[e.jsx(l.Suspense,{fallback:e.jsx(D,{}),children:e.jsx(z,{})}),e.jsx(I,{enableZoom:!1,enablePan:!1,autoRotate:!0,autoRotateSpeed:.4,enableDamping:!0,dampingFactor:.05,mouseButtons:{LEFT:h.ROTATE,MIDDLE:h.DOLLY,RIGHT:h.PAN}})]});export{C as default};
//# sourceMappingURL=Desktop3DGlobe-BOUmCMYC.js.map
